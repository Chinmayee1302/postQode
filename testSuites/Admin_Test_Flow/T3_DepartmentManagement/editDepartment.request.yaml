id: 02fa78d9-3dff-4dcc-b31e-546159d332c3
name: editDepartment
request:
  url:
    raw: >-
      {{API_Base_URL}}/interface/{{SYSTEM_ID}}/hospital/{{HospitalId}}/departments/{{departmentID}}
    host:
      - '{{API_Base_URL}}'
    path:
      - interface
      - '{{SYSTEM_ID}}'
      - hospital
      - '{{HospitalId}}'
      - departments
      - '{{departmentID}}'
  method: PATCH
  headers:
    - description: ''
      disabled: false
      key: Cache-Control
      value: no-cache
    - description: ''
      disabled: false
      key: Accept
      value: '*/*'
    - description: ''
      disabled: false
      key: Accept-Encoding
      value: gzip, deflate
    - description: ''
      disabled: false
      key: Connection
      value: keep-alive
  body:
    mode: raw
    modeOfBody: JSON
    raw: |-
      {
          "data": [
              {
                  "path": "name",
                  "value": "{{departmentName}}"
              }
          ],
          "name": "{{departmentName}}"
      }
  auth:
    type: bearer
    bearer:
      token: '{{idToken}}'
events:
  - listen: test
    script:
      type: javascript
      exec:
        - const depResponse = pq.response.json();
        - // Validate department name
        - pq.test("Department Creation", () => {
        - '  pq.expect(depResponse.name).to.equal(pq.environment.get(''departmentName''));'
        - '});'
type: request
