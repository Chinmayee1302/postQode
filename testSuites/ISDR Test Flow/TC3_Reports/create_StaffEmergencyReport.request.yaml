id: b185bf1f-26c8-49a8-8d37-af7e055c6eb0
name: create_StaffEmergencyReport
request:
  url:
    raw: >-
      {{API_Base_URL}}/interface/{{SYSTEM_ID}}/hospital/{{HospitalId}}.srv/prosightAnalytics/scheduledReports
    host:
      - '{{API_Base_URL}}'
    path:
      - interface
      - '{{SYSTEM_ID}}'
      - hospital
      - '{{HospitalId}}.srv'
      - prosightAnalytics
      - scheduledReports
  method: POST
  headers:
    - key: sec-ch-ua-platform
      value: '"Windows"'
    - key: sec-ch-ua
      value: '"Chromium";v="142", "Google Chrome";v="142", "Not_A Brand";v="99"'
    - key: sec-ch-ua-mobile
      value: '?0'
    - key: User-Agent
      value: >-
        Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML,
        like Gecko) Chrome/142.0.0.0 Safari/537.36
    - key: Accept
      value: application/json
    - key: Content-Type
      value: application/json
  body:
    mode: raw
    modeOfBody: JSON
    raw: |-
      {
        "form": {
          "basicInformation": {
            "type": "safety.smartReports.emergencyAlerts",
            "name": "ISDR_Reports",
            "schedule": "oneTime",
            "disabled": false
          },
          "filters": {
            "application": "safety",
            "dateRange": "last7Days",
            "department": [
              "{{departmentName}}"
            ],
            "itemType": null,
            "itemTypeList": [],
            "showCalendar": true,
            "itemName": null,
            "itemNamesList": [],
            "dateRangeType": "RANGE_TYPES_BACKWARD",
            "departmentLabel": "Assigned Department"
          },
          "delivery": {
            "application": "safety",
            "sendWhen": "now",
            "sendReportOn": null,
            "sendReportAt": null,
            "sendReportStartingOn": null,
            "sendReportStartingAt": null,
            "sendReportEndingOn": null,
            "sendReportFrequency": null,
            "sendReportEndingOnMax": null,
            "dateTimeSelectMin": null,
            "enableSendReportEndingOn": false,
            "disabled": false,
            "type": "safety.smartReports.emergencyAlerts"
          },
          "data/itemType": null,
          "data/itemName": null,
          "recipients": [
            "vidyashree.g@cognosos.com"
          ]
        },
        "config": {
          "title": "Staff Emergency Alerts Report",
          "type": "safety.smartReports.emergencyAlerts",
          "dataType": "imagine",
          "forwardDateDisable": true,
          "interface": [
            {
              "path": [
                [
                  "interface",
                  "{systemId}",
                  "hospital"
                ],
                [
                  "obj",
                  "{hospitalId}"
                ],
                [
                  "srv",
                  "prosightAnalytics"
                ],
                [
                  "post",
                  "scheduledReports/{type}/data",
                  {
                    "context": "{}"
                  }
                ]
              ]
            }
          ],
          "accessors": [
            {
              "type": "value",
              "label": "Name",
              "path": "sourceName"
            },
            {
              "type": "value",
              "label": "Staff Id",
              "path": "sourceExternalId"
            },
            {
              "type": "value",
              "label": "Date/Time",
              "path": "time",
              "modifier": [
                "formatDate",
                "MM/dd/yyyy hh:mm a"
              ]
            },
            {
              "type": "value",
              "label": "Alert Type",
              "path": "alertType"
            },
            {
              "type": "value",
              "label": "Response Time",
              "path": "responseTime"
            },
            {
              "type": "value",
              "label": "Alert Status",
              "path": "alertStatus"
            },
            {
              "type": "value",
              "label": "Performed by",
              "path": "escalatedBy"
            },
            {
              "type": "value",
              "label": "Comments",
              "path": "message"
            }
          ],
          "form": {
            "defaults": {
              "basicInformation": {
                "type": "safety.smartReports.emergencyAlerts",
                "schedule": "oneTime"
              },
              "filters": {
                "dateRange": "last7Days"
              }
            },
            "useDateRangeDirection": "backward",
            "useItemTypeFilter": false
          }
        },
        "context": {
          "systemId": "23fqm29hl188zLLfhodrp9",
          "hospitalId": "0X4Q4XuHM8Ah8B6vZh1KRH",
          "type": "safety.smartReports.emergencyAlerts",
          "filters": {
            "hospitalId": "0X4Q4XuHM8Ah8B6vZh1KRH",
            "buildingIds": [
              "7uaO3o1fcoRzoKVgC2tJbz"
            ],
            "departmentIds": [
              "7tJr9GRkSPttoAGngjXmgn"
            ],
            "itemTypeValues": [],
            "itemNameValues": [],
            "dateRange": "last7Days"
          },
          "offset": 0,
          "limit": 9999
        },
        "updatedBy": "vidyashree.g@cognosos.com",
        "createdBy": "vidyashree.g@cognosos.com",
        "updatedAt": 1765952411787,
        "createdAt": 1765952411787
      }
  auth:
    type: bearer
    bearer:
      token: '{{idToken}}'
events: []
type: request
