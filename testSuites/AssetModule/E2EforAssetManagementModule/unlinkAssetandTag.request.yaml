id: 41b55f6d-28c8-44dd-abbb-7224493c6b1d
name: unlinkAssetandTag
request:
  url:
    raw: >-
      {{API_Base_URL}}/interface/{{SYSTEM_ID}}/hospital/{{AssetManagement.hospitalDetails.HospitalId}}/assets/{{AssetManagement.asset1.assetlevId}}/tag
    host:
    - '{{API_Base_URL}}'
    path:
    - interface
    - '{{SYSTEM_ID}}'
    - hospital
    - '{{AssetManagement.hospitalDetails.HospitalId}}'
    - assets
    - '{{AssetManagement.asset1.assetlevId}}'
    - tag
  method: DELETE
  headers:
  - key: sec-ch-ua-platform
    value: '"Windows"'
  - key: Authorization
    value: Bearer {{bearerToken}}
  - key: Referer
    value: https://dev-cognosos.web.app/
  - key: User-Agent
    value: >-
      Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36
  - key: Accept
    value: application/json
  - key: sec-ch-ua
    value: '"Chromium";v="142", "Google Chrome";v="142", "Not_A Brand";v="99"'
  - key: sec-ch-ua-mobile
    value: '?0'
  body:
    mode: none
  auth:
    type: bearer
    bearer:
      token: '{{idToken}}'
events:
- listen: test
  script:
    type: javascript
    exec:
    - pq.test('Status code is 200', function () {
    - '    pq.response.to.have.status(200);'
    - '});'
    - const res = pq.response.json();
    - console.log(pq.request)
    - pq.test("Response validation", function() {
    - '    pq.expect(res.type).to.eql(''relationshipRemoved'');'
    - '    pq.expect(res.deviceRemoved).to.be.false;'
    - '    pq.expect(res.id).to.eql(pq.environment.get(''AssetManagement.tagDetails.tag1.tagID''));'
    - '    pq.expect(res.parentId).to.eql(pq.environment.get(''AssetManagement.asset1.assetlevId''));'
    - '    pq.expect(res.parentAttribute).to.eql(''tag'');'
    - '});'
type: request
