testSuiteId: a19a7aaf-87ae-43a0-b5fd-61be665ae463
testCaseId: 2a713d14-b1e6-4963-9ebc-cfd284e2addf
testStepId: 5bfb1e55-304c-4e43-b6d4-9070c12db5b3
testStepName: CreateFacility
testStepType: request
testStepDetail:
  id: 5bfb1e55-304c-4e43-b6d4-9070c12db5b3
  name: CreateFacility
  request:
    url: https://dev-cox-health-imagine-api.leverege.com/v1/project/55zmpJa2Q7vyjulNF72JK6/system/1WZp0PBZ2Y9BB5nYWnaDmx/srv/prosightApiServer/hospital
    method: POST
    headers:
      - key: sec-ch-ua-platform
        value: '"macOS"'
      - key: Referer
        value: https://staging-commercial-cox-health.firebaseapp.com/
      - key: sec-ch-ua
        value: '"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"'
      - key: sec-ch-ua-mobile
        value: ?0
      - key: User-Agent
        value: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36
          (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36
      - key: Accept
        value: application/json
      - key: Content-Type
        value: application/json
    body:
      mode: raw
      modeOfBody: JSON
      raw: |-
        {
        "name": "PostQode123",
        "data": {
            "name": "PostQode123",
            "address": {
                "street": "1214 Coolidge Street",
                "city": "Birmingham",
                "state": "Alabama",
                "zipCode": "35205"
            },
            "contact": {},
            "hospitalType": "Default",
            "timezone": "Eastern Standard Time",
            "position": {
                "lat": 42.32694,
                "lon": -71.83355
            }
        },
        "metadata": {
            "timeZone": "Eastern Standard Time",
            "allowedApplications": [
                "Prosight Assets",
                "Prosight Safety",
                "Prosight Environment"
                ]
            },
            "hasHIDTags": true
        }
    auth:
      type: bearer
      bearer:
        token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJwcmoiOiI1NXptcEphMlE3dnlqdWxORjcySks2IiwiaWF0IjoxNzY0MTQ3MzAxLCJleHAiOjE3NjQyMzM3MDEsImF1ZCI6IkxvX2xuVXhGTDNadk1uRk41ZU1qRmlDVXYxeEZxRi1IIiwiaXNzIjoiaHR0cHM6Ly9kZXYtY294LWhlYWx0aC1pbWFnaW5lLWFwaS5sZXZlcmVnZS5jb20iLCJzdWIiOiI2QmE2VW1HTVZHb0R4dnhFbnVoVHFpIn0.wPyHLjP_9joNAtWD6MtVpw606WqAqUs9ZMQR1T6LVsE
  events:
    - listen: test
      script:
        type: javascript
        exec:
          - let response = pq.response.json();
          - if (pq.response.code === 201) {
          - '  const hospitalDetails = pq.environment.get("hopitalDetails");'
          - '  pq.test("Validate hospital details", function () {'
          - "    pq.expect(response.name).to.equal(hospitalDetails.hospitalName\
            );"
          - "    pq.expect(response.data.name).to.equal(hospitalDetails.hospita\
            lName);"
          - "    pq.expect(response.data.address.street).to.equal(hospitalDetai\
            ls.streetAddress);"
          - "    pq.expect(response.data.address.city).to.equal(hospitalDetails\
            .city);"
          - "    pq.expect(response.data.address.state).to.equal(hospitalDetail\
            s.state);"
          - "    pq.expect(response.data.address.zipCode).to.equal(hospitalDeta\
            ils.zipCode);"
          - "    pq.expect(response.data.timezone).to.equal(hospitalDetails.tim\
            ezone);"
          - "    pq.expect(response.metadata.timeZone).to.equal(hospitalDetails\
            .timezone);"
          - "  });"
          - '  pq.environment.set("HospitalId", response.id);'
          - "} else {"
          - "  console.log(pq.environment.get('hopitalDetails').hospitalName);"
          - '  console.log("Hospital creation failed with status code: " +
            pq.response.code);'
          - "  console.log(response);"
          - "}"
          - ""
  type: request
startedAt: 2025-11-26T08:54:49.277Z
finishedAt: 2025-11-26T08:54:49.956Z
testResult: PASSED
response:
  code: 201
  headers:
    - key: Date
      value: Wed, 26 Nov 2025 08:55:02 GMT
    - key: Content-Type
      value: application/json; charset=utf-8
    - key: Transfer-Encoding
      value: chunked
    - key: Connection
      value: keep-alive
    - key: Access-Control-Allow-Credentials
      value: "true"
    - key: Content-Security-Policy
      value: "default-src 'self';base-uri 'self';block-all-mixed-content;font-src
        'self' https: data:;form-action 'self';frame-ancestors 'self';img-src
        'self' data:;object-src 'none';script-src 'self';script-src-attr
        'none';style-src 'self' https:
        'unsafe-inline';upgrade-insecure-requests"
    - key: Cross-Origin-Embedder-Policy
      value: require-corp
    - key: Cross-Origin-Opener-Policy
      value: same-origin
    - key: Cross-Origin-Resource-Policy
      value: same-origin
    - key: Etag
      value: W/"1ae-4gMLSIycMiR2Bw5QFz+HF8DHDos"
    - key: Expect-Ct
      value: max-age=0
    - key: Origin-Agent-Cluster
      value: ?1
    - key: Referrer-Policy
      value: no-referrer
    - key: Strict-Transport-Security
      value: max-age=15552000; includeSubDomains
    - key: Vary
      value: Origin, Accept-Encoding
    - key: X-Content-Type-Options
      value: nosniff
    - key: X-Dns-Prefetch-Control
      value: off
    - key: X-Download-Options
      value: noopen
    - key: X-Frame-Options
      value: SAMEORIGIN
    - key: X-Permitted-Cross-Domain-Policies
      value: none
    - key: X-Xss-Protection
      value: "0"
    - key: Cf-Cache-Status
      value: DYNAMIC
    - key: Nel
      value: '{"report_to":"cf-nel","success_fraction":0.0,"max_age":604800}'
    - key: Report-To
      value: '{"group":"cf-nel","max_age":604800,"endpoints":[{"url":"https://a.nel.cloudflare.com/report/v4?s=ZLm0t%2FtqDVhAmxF46Jg4xUaDkQYHgfrQZTBYBodh07yRZzAlvLRkh3Wrz%2BYN3VyDodXe%2FbQj9twuuPVzoGm0loo4yWOHlDp8hRj0qGLr2wXEVHyjw4FflxCrZ8rAEygGHmNXmw%3D%3D"}]}'
    - key: Server
      value: cloudflare
    - key: Cf-Ray
      value: 9a482a1cef78914b-MAA
    - key: Alt-Svc
      value: h3=":443"; ma=86400
  cookies: []
  body: '{"id":"36VUhMYA6xUXJbl7ciGpLP","name":"PostQode123","data":{"name":"PostQode123","address":{"street":"1214
    Coolidge
    Street","city":"Birmingham","state":"Alabama","zipCode":"35205"},"contact":{},"hospitalType":"Default","timezone":"Eastern
    Standard
    Time","position":{"lat":42.32694,"lon":-71.83355}},"metadata":{"timeZone":"Eastern
    Standard Time","allowedApplications":["Prosight Assets","Prosight
    Safety","Prosight Environment"]}}'
  responseTime: 666
  status: Created
  responseSize: 430
assertions:
  - name: equality check (PostQode123)
    skipped: false
    passed: true
    error: {}
  - name: equality check (PostQode123)
    skipped: false
    passed: true
    error: {}
  - name: equality check (1214 Coolidge Street)
    skipped: false
    passed: true
    error: {}
  - name: equality check (Birmingham)
    skipped: false
    passed: true
    error: {}
  - name: equality check (Alabama)
    skipped: false
    passed: true
    error: {}
  - name: equality check (35205)
    skipped: false
    passed: true
    error: {}
  - name: equality check (Eastern Standard Time)
    skipped: false
    passed: true
    error: {}
  - name: equality check (Eastern Standard Time)
    skipped: false
    passed: true
    error: {}
  - name: Validate hospital details
    skipped: false
    passed: true
    error: {}
iterationCount: 0
logs: []
